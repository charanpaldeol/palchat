---
import Layout from '../layouts/Layout.astro';
---

<Layout title="Contact - PalChat">
  <!-- Contact Page Structured Data -->
  <script type="application/ld+json" set:html={JSON.stringify({
    "@context": "https://schema.org",
    "@type": "ContactPage",
    "name": "Contact PalChat Community",
    "description": "Connect with the PalChat community of privacy advocates and digital rights activists. Share ideas, join discussions, and be part of the movement for digital sovereignty.",
    "url": "https://palchat.com/contact",
    "mainEntity": {
      "@type": "Organization",
      "name": "PalChat",
      "description": "Community of like-minded individuals advocating for digital sovereignty and privacy-first technology",
      "url": "https://palchat.com",
      "contactPoint": [
        {
          "@type": "ContactPoint",
          "contactType": "community support",
          "availableLanguage": "English",
          "areaServed": "Worldwide"
        },
        {
          "@type": "ContactPoint",
          "contactType": "general",
          "availableLanguage": "English",
          "areaServed": "Worldwide"
        }
      ]
    },
    "potentialAction": {
      "@type": "CommunicateAction",
      "target": {
        "@type": "EntryPoint",
        "urlTemplate": "https://palchat.com/contact",
        "inLanguage": "en-US",
        "actionPlatform": "http://schema.org/WebSite"
      },
      "expectsAcceptanceOf": {
        "@type": "Offer",
        "category": "Community building and awareness"
      }
    },
    "inLanguage": "en-US"
  })}>
  </script>

  <div class="container mx-auto px-4 py-12">
    <div class="max-w-3xl mx-auto">
      <!-- Privacy-First Hero -->
      <div class="text-center mb-12">
        <h1 class="text-5xl lg:text-6xl font-bold text-gray-900 mb-6 leading-tight">
          Connect Privately
        </h1>
        <p class="text-xl text-gray-600 mb-8 leading-relaxed">
          We believe in privacy-first communication. No personal data required.
        </p>
        <div class="bg-blue-50 border-2 border-blue-200 rounded-xl p-6 max-w-3xl mx-auto">
          <div class="flex items-start gap-4">
            <svg class="w-8 h-8 text-blue-600 mt-1 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
            </svg>
            <div class="text-left">
              <h3 class="font-bold text-blue-900 mb-2 text-lg">Privacy Notice</h3>
              <p class="text-blue-800 text-base leading-relaxed">We don't collect personal information. Feel free to use pseudonyms or remain completely anonymous. Your privacy is our priority.</p>
            </div>
          </div>
        </div>
      </div>

      <!-- Alternative Communication Methods -->
      <div class="grid md:grid-cols-2 gap-8 mb-12">
        <!-- Anonymous Forum -->
        <div class="bg-white rounded-3xl shadow-xl border border-gray-200 p-8 hover:shadow-2xl transition-shadow duration-300">
          <div class="w-12 h-12 bg-gradient-to-br from-green-100 to-green-200 rounded-2xl flex items-center justify-center mb-4 shadow-lg">
            <svg class="w-7 h-7 text-green-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 8h2a2 2 0 012 2v6a2 2 0 01-2 2h-2v4l-4-4H9a1.994 1.994 0 01-1.414-.586m0 0L11 14h4a2 2 0 002-2V6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2v4l.586-.586z"></path>
            </svg>
          </div>
          <h3 class="text-2xl font-bold text-gray-900 mb-3">Community Forum</h3>
          <p class="text-gray-600 mb-4 text-base leading-relaxed">Join our privacy-focused community discussions. No registration required, completely anonymous participation.</p>
          <a href="#" class="inline-flex items-center gap-2 text-green-600 hover:text-green-700 font-semibold">
            Join Discussion
            <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path>
            </svg>
          </a>
        </div>

        <!-- Secure Messaging -->
        <div class="bg-white rounded-3xl shadow-xl border border-gray-200 p-8 hover:shadow-2xl transition-shadow duration-300">
          <div class="w-12 h-12 bg-gradient-to-br from-blue-100 to-blue-200 rounded-2xl flex items-center justify-center mb-4 shadow-lg">
            <svg class="w-7 h-7 text-blue-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"></path>
            </svg>
          </div>
          <h3 class="text-2xl font-bold text-gray-900 mb-3">Secure Channel</h3>
          <p class="text-gray-600 mb-4 text-base leading-relaxed">Use our encrypted communication channel for sensitive discussions. End-to-end encryption, no logs kept.</p>
          <a href="#" class="inline-flex items-center gap-2 text-blue-600 hover:text-blue-700 font-semibold">
            Access Channel
            <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path>
            </svg>
          </a>
        </div>
      </div>

      <!-- Minimal Contact Form (Optional) -->
      <div class="bg-white rounded-3xl shadow-xl border border-gray-200 p-8 mb-12">
        <div class="text-center mb-8">
          <h2 class="text-3xl font-bold text-gray-900 mb-4">Optional Contact</h2>
          <p class="text-gray-600 text-lg leading-relaxed">If you prefer traditional contact, you can use this form. All fields are optional.</p>
        </div>
        
        <!-- Additional Information Section -->
        <div class="bg-blue-50 border-2 border-blue-200 rounded-xl p-6 mb-8">
          <div class="flex items-start gap-4">
            <svg class="w-6 h-6 text-blue-600 mt-1 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
            </svg>
            <div>
              <h3 class="font-bold text-blue-900 mb-2 text-lg">Suggestions & Recommendations Welcome</h3>
              <p class="text-blue-800 text-base leading-relaxed mb-3">
                If you have any suggestions, recommendations, or ideas for improving our platform, feel free to send them our way. We value community input and are always looking to enhance the user experience.
              </p>
              <p class="text-blue-700 text-base leading-relaxed">
                <strong>For communication:</strong> If you'd like us to respond, we suggest providing temporary contact info like a <a href="https://hidemy.email" target="_blank" class="underline hover:text-blue-900 font-semibold">HideMy.email</a> address or similar temporary email service. This keeps your privacy intact while allowing for two-way communication.
              </p>
            </div>
          </div>
        </div>
        
        <form id="contact-form" class="space-y-6">
          <div class="bg-yellow-50 border-2 border-yellow-200 rounded-xl p-6 mb-6">
            <div class="flex items-start gap-4">
              <svg class="w-6 h-6 text-yellow-600 mt-1 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"></path>
              </svg>
              <div>
                <h3 class="font-bold text-yellow-800 mb-2 text-lg">Privacy Reminder</h3>
                <p class="text-yellow-700 text-base leading-relaxed">Consider using a pseudonym or leaving fields blank. We don't require personal information to help you.</p>
              </div>
            </div>
          </div>

          <div>
            <label for="pseudonym" class="block text-base font-semibold text-gray-700 mb-3">Pseudonym (Optional)</label>
            <input
              type="text"
              id="pseudonym"
              name="pseudonym"
              class="w-full px-4 py-3 border-2 border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors text-base"
              placeholder="Choose any name or leave blank"
            />
          </div>

          <div>
            <label for="subject" class="block text-base font-semibold text-gray-700 mb-3">Subject *</label>
            <input
              type="text"
              id="subject"
              name="subject"
              required
              class="w-full px-4 py-3 border-2 border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors text-base"
              placeholder="What would you like to discuss?"
            />
          </div>

          <div>
            <label for="message" class="block text-base font-semibold text-gray-700 mb-3">Message *</label>
            <textarea
              id="message"
              name="message"
              rows="5"
              required
              class="w-full px-4 py-3 border-2 border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors resize-none text-base"
              placeholder="Share your thoughts, questions, or ideas..."
            ></textarea>
          </div>

          <div class="bg-green-50 border-2 border-green-200 rounded-xl p-6">
            <div class="flex items-start gap-4">
              <input type="checkbox" id="privacy-consent" name="privacy-consent" class="mt-1 w-5 h-5 text-green-600 border-gray-300 rounded focus:ring-green-500">
              <label for="privacy-consent" class="text-base text-green-800 leading-relaxed">
                I understand that this is optional and I can remain anonymous. I consent to this minimal data collection for communication purposes only.
              </label>
            </div>
          </div>

          <button
            type="submit"
            id="submit-btn"
            class="w-full bg-gradient-to-r from-blue-600 to-purple-600 text-white px-8 py-4 rounded-xl hover:from-blue-700 hover:to-purple-700 transition-all duration-300 font-semibold text-lg flex items-center justify-center gap-3 shadow-lg hover:shadow-xl transform hover:scale-105"
          >
            <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 19l9 2-9-18-9 18 9-2zm0 0v-8"></path>
            </svg>
            <span id="submit-text">Send Message</span>
          </button>
        </form>

        <!-- Success/Error Messages -->
        <div id="message-container" class="mt-8 hidden">
          <div id="success-message" class="hidden p-6 bg-green-100 border-2 border-green-400 text-green-700 rounded-xl">
            <div class="flex items-center gap-3">
              <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 20 20">
                <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"></path>
              </svg>
              <span id="success-text" class="text-base font-semibold"></span>
            </div>
          </div>
          <div id="error-message" class="hidden p-6 bg-red-100 border-2 border-red-400 text-red-700 rounded-xl">
            <div class="flex items-center gap-3">
              <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 20 20">
                <path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z" clip-rule="evenodd"></path>
              </svg>
              <span id="error-text" class="text-base font-semibold"></span>
            </div>
          </div>
        </div>
      </div>

      <!-- Privacy-Focused FAQ -->
      <div class="bg-white rounded-3xl shadow-xl border border-gray-200 p-8">
        <h2 class="text-3xl font-bold text-gray-900 mb-8 text-center">Privacy & Communication</h2>
        <div class="space-y-8">
          <div class="border-l-4 border-blue-500 pl-6">
            <h3 class="font-bold text-gray-900 mb-3 text-lg">Why don't you collect personal data?</h3>
            <p class="text-gray-600 text-base leading-relaxed">Privacy is our core value. We believe you should have control over your personal information and choose what to share.</p>
          </div>
          <div class="border-l-4 border-green-500 pl-6">
            <h3 class="font-bold text-gray-900 mb-3 text-lg">How can I stay anonymous?</h3>
            <p class="text-gray-600 text-base leading-relaxed">Use our community forum or secure channel without any registration. You can participate completely anonymously.</p>
          </div>
          <div class="border-l-4 border-purple-500 pl-6">
            <h3 class="font-bold text-gray-900 mb-3 text-lg">What happens to my data?</h3>
            <p class="text-gray-600 text-base leading-relaxed">We minimize data collection and never sell or share your information. Any data collected is used solely for communication.</p>
          </div>
          <div class="border-l-4 border-orange-500 pl-6">
            <h3 class="font-bold text-gray-900 mb-3 text-lg">Can I use a fake name?</h3>
            <p class="text-gray-600 text-base leading-relaxed">Absolutely! We encourage using pseudonyms or leaving name fields blank. Your privacy choices are respected.</p>
          </div>
        </div>
      </div>

      <!-- Alternative Contact Methods -->
      <div class="mt-12 text-center">
        <h2 class="text-3xl font-bold text-gray-900 mb-6">Other Ways to Connect</h2>
        <p class="text-gray-600 mb-8 text-lg leading-relaxed">Choose the method that feels most comfortable for you</p>
        <div class="flex flex-wrap justify-center gap-6">
          <a href="#" class="flex items-center gap-3 px-8 py-4 bg-gray-100 text-gray-700 rounded-xl hover:bg-gray-200 transition-all duration-300 font-semibold text-base shadow-lg hover:shadow-xl transform hover:scale-105">
            <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24">
              <path d="M23.953 4.57a10 10 0 01-2.825.775 4.958 4.958 0 002.163-2.723c-.951.555-2.005.959-3.127 1.184a4.92 4.92 0 00-8.384 4.482C7.69 8.095 4.067 6.13 1.64 3.162a4.822 4.822 0 00-.666 2.475c0 1.71.87 3.213 2.188 4.096a4.904 4.904 0 01-2.228-.616v.06a4.923 4.923 0 003.946 4.827 4.996 4.996 0 01-2.212.085 4.936 4.936 0 004.604 3.417 9.867 9.867 0 01-6.102 2.105c-.39 0-.779-.023-1.17-.067a13.995 13.995 0 007.557 2.209c9.053 0 13.998-7.496 13.998-13.985 0-.21 0-.42-.015-.63A9.935 9.935 0 0024 4.59z"/>
            </svg>
            Anonymous Twitter
          </a>
          <a href="#" class="flex items-center gap-3 px-8 py-4 bg-gray-100 text-gray-700 rounded-xl hover:bg-gray-200 transition-all duration-300 font-semibold text-base shadow-lg hover:shadow-xl transform hover:scale-105">
            <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24">
              <path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.236 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"/>
            </svg>
            GitHub Discussions
          </a>
        </div>
      </div>
    </div>
  </div>

  <script>
    document.addEventListener('DOMContentLoaded', function() {
      const form = document.getElementById('contact-form');
      const submitBtn = document.getElementById('submit-btn');
      const submitText = document.getElementById('submit-text');
      const messageContainer = document.getElementById('message-container');
      const successMessage = document.getElementById('success-message');
      const errorMessage = document.getElementById('error-message');
      const successText = document.getElementById('success-text');
      const errorText = document.getElementById('error-text');

      function showMessage(type, message) {
        messageContainer.classList.add('hidden');
        successMessage.classList.add('hidden');
        errorMessage.classList.add('hidden');

        messageContainer.classList.remove('hidden');
        if (type === 'success') {
          successText.textContent = message;
          successMessage.classList.remove('hidden');
        } else {
          errorText.textContent = message;
          errorMessage.classList.remove('hidden');
        }

        setTimeout(() => {
          messageContainer.classList.add('hidden');
        }, 5000);
      }

      function setLoading(loading) {
        if (loading) {
          submitBtn.disabled = true;
          submitText.textContent = 'Sending...';
          submitBtn.classList.add('opacity-75');
        } else {
          submitBtn.disabled = false;
          submitText.textContent = 'Send Message';
          submitBtn.classList.remove('opacity-75');
        }
      }

      form.addEventListener('submit', async function(e) {
        e.preventDefault();

        const formData = new FormData(form);
        const data = {
          pseudonym: formData.get('pseudonym') || 'Anonymous',
          subject: formData.get('subject'),
          message: formData.get('message'),
          privacyConsent: formData.get('privacy-consent')
        };

        if (!data.subject || !data.message) {
          showMessage('error', 'Please provide a subject and message.');
          return;
        }

        if (!data.privacyConsent) {
          showMessage('error', 'Please confirm that you understand our privacy approach.');
          return;
        }

        setLoading(true);

        try {
          const response = await fetch('/api/contact', {
            method: 'POST',
            headers: {
              'Content-Type': 'application/json',
            },
            body: JSON.stringify(data)
          });

          const result = await response.json();

          if (response.ok) {
            showMessage('success', 'Message sent successfully! We\'ll respond while respecting your privacy.');
            form.reset();
          } else {
            showMessage('error', result.error || 'Failed to send message. Please try again.');
          }
        } catch (error) {
          console.error('Form submission error:', error);
          showMessage('error', 'Network error. Please check your connection and try again.');
        } finally {
          setLoading(false);
        }
      });
    });
  </script>
</Layout> 